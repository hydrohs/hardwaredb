{% extends "hardware/base.html" %}
{% block title %}{{ microprop.name }}{% endblock %}
{% block content %}
<h1>{{ microprop.name }} ({{ microprop.brand }} {{ microprop.model }})</h1>
<div class="row align-items-center">
  <div class="col-sm">
    <table class="table">
      <tr>
        <td><b>Type:</b></td>
        <td>{{ type }}</td>
      </tr>
      <tr>
        <td><b>Notes:</b></td>
        <td>{{ microprop.notes | safe }}</td>
      </tr>
    </table>
  </div>
  <div class="col-sm">
    {% if microprop.image_1 or microprop.image_2 or microprop.image_3 %}
    <div class="pswp-gallery pswp-gallery--single-column" id="microprop-gallery">
        {% if microprop.image_1 %}
        <a href="/images/{{ microprop.image_1 }}" 
          data-pswp-width="{{ microprop.image_1.width }}" 
          data-pswp-height="{{ microprop.image_1.height }}" 
          target="_blank">
          <img src="/images/{{ microprop.image_1 }}" alt="Top" width="30%"/>
        </a>
        {% endif %}
        {% if microprop.image_2 %}
        <a href="/images/{{ microprop.image_2 }}" 
          data-pswp-width="{{ microprop.image_2.width }}" 
          data-pswp-height="{{ microprop.image_2.height }}" 
          target="_blank">
          <img src="/images/{{ microprop.image_2 }}" alt="bottom" width="30%" />
        </a>
        {% endif %}
        {% if microprop.image_3 %}
        <a href="/images/{{ microprop.image_3 }}" 
          data-pswp-width="{{ microprop.image_3.width }}" 
          data-pswp-height="{{ microprop.image_3.height }}" 
          target="_blank">
          <img src="/images/{{ microprop.image_3 }}" alt="bottom" width="30%" />
        </a>
        {% endif %}
        {% if microprop.image_4 %}
        <a href="/images/{{ microprop.image_3 }}" 
          data-pswp-width="{{ microprop.image_3.width }}" 
          data-pswp-height="{{ microprop.image_3.height }}" 
          target="_blank">
          <img src="/images/{{ microprop.image_3 }}" alt="bottom" width="30%" />
        </a>
        {% endif %}
      </div>
    </div>
    </div>
      <script type="module">
        // Include Lightbox 
        import PhotoSwipeLightbox from '/static/photoswipe/dist/photoswipe-lightbox.esm.js';

        const lightbox = new PhotoSwipeLightbox({
        // may select multiple "galleries"
        gallery: '#microprop-gallery',

        // Elements within gallery (slides)
        children: 'a',

        // setup PhotoSwipe Core dynamic import
        pswpModule: () => import('/static/photoswipe/dist/photoswipe.esm.js'),
        });
        lightbox.init();
    </script>
    {% endif %}
</p>
{% endblock %}